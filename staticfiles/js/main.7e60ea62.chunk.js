(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{142:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),c=n(16),i=n(13),s=n(0),o=n.n(s),l=n(48),u=n.n(l),d=(n(142),n(43)),j=n(19),b=n(18),p=n(223),x=n(225),O=n(214),h=n(220),f=n(1),v=function(e){var t=e.filter,n=e.setFilter,a=Object(j.g)();return Object(f.jsx)(p.a,{position:"sticky",sx:{background:"white"},children:Object(f.jsxs)(x.a,{children:[Object(f.jsx)(O.a,{label:"Search",type:"search",variant:"standard",value:t.query,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{query:e.target.value}))}}),Object(f.jsx)(h.a,{variant:"contained",sx:{ml:3},onClick:function(){return a.push("/patient/create")},children:"Create"})]})})},m=n(227),y=n(228),g=n(229),w=n(118),k=n.n(w),C=n(119),_=n.n(C),S=function(e){var t=e.patients,n=Object(j.g)();return Object(f.jsx)("nav",{"data-testid":"navbar",children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(m.a,{"data-testid":"link-patient",component:"div","aria-label":"secondary mailbox folder",sx:{m:"0 5px 0 5px"},children:Object(f.jsxs)(y.a,{sx:{borderRadius:2,boxShadow:3},onClick:function(){return n.push("/patient/".concat(e.id))},children:[Object(f.jsx)(g.a,{primary:Object(f.jsxs)(o.a.Fragment,{children:[e.first_name," ",e.last_name]}),secondary:Object(f.jsx)(o.a.Fragment,{children:e.date_birth})}),"Female"===e.sex?Object(f.jsx)(k.a,{sx:{fontSize:30}}):Object(f.jsx)(_.a,{sx:{fontSize:30}})]})},e.id)}))})},A=function(e){var t=e.children;return Object(f.jsx)("div",{className:"left-panel",children:t})},I=function(e){var t=e.children;return Object(f.jsx)("div",{className:"right-panel",children:t})},F=Object(s.createContext)([]),W=n(39),L=n(40),P=n(36),E=n.n(P),N=function(){function e(){Object(W.a)(this,e)}return Object(L.a)(e,null,[{key:"getAll",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/patient-list/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"detail",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/patient-detail/".concat(t,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),G=function(e){var t=e.children,n=Object(s.useContext)(F),a=n.patients,o=n.setPatients,l=Object(s.useState)({query:""}),u=Object(i.a)(l,2),d=u[0],j=u[1],b=function(e,t){var n=e,a=t.toLowerCase().replace(/\s/g,""),r=t.toLowerCase().split(" ",2);return null===n||void 0===n?void 0:n.filter((function(e){return e.first_name.toLowerCase().includes(r[0])&&e.last_name.toLowerCase().includes(r[1])||e.first_name.toLowerCase().includes(a)||e.last_name.toLowerCase().includes(a)||e.first_name.toLowerCase().includes(r[1])&&e.last_name.toLowerCase().includes(r[0])}))}(a,d.query),p=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1],l=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),o(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return[l,a]}(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAll();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})))),x=Object(i.a)(p,2),O=x[0];x[1];return Object(s.useEffect)((function(){O()}),[]),Object(f.jsxs)("div",{className:"panels",children:[Object(f.jsxs)(A,{children:[Object(f.jsx)(v,{filter:d,setFilter:j}),Object(f.jsx)(S,{patients:b})]}),Object(f.jsx)(I,{children:t})]})},q=n(15),D=n(221),M=n(224),z=n(226),B=n(209),J=n(222),R=n(230),T=n(216),Y=function(e){var t=e.patient,n=e.setPatient,a={margin:5};return Object(f.jsx)(D.a,{children:Object(f.jsx)(M.a,{elevation:20,style:{padding:"30px 30px",width:500,margin:"20px auto"},children:Object(f.jsxs)("form",{children:[Object(f.jsx)(O.a,{fullWidth:!0,label:"First name",placeholder:"Enter your first name",variant:"standard","data-testid":"first_name",style:a,value:t.first_name,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{first_name:e.target.value}))}}),Object(f.jsx)(O.a,{fullWidth:!0,label:"Last name",placeholder:"Enter your last name",variant:"standard",style:a,value:t.last_name,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{last_name:e.target.value}))}}),Object(f.jsxs)(z.a,{component:"fieldset",style:{marginTop:5},children:[Object(f.jsx)(B.a,{component:"legend",children:"Gender"}),Object(f.jsxs)(J.a,{"aria-label":"gender",name:"gender",style:{display:"initial"},value:t.sex,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{sex:e.target.value}))},children:[Object(f.jsx)(R.a,{"data-testid":"Female-id",value:"Female",control:Object(f.jsx)(T.a,{}),label:"Female"}),Object(f.jsx)(R.a,{"data-testid":"Male-id",value:"Male",control:Object(f.jsx)(T.a,{}),label:"Male"})]})]}),Object(f.jsx)(O.a,{fullWidth:!0,id:"date",label:"Birthday",type:"date",variant:"standard",style:a,InputLabelProps:{shrink:!0},value:t.date_birth,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{date_birth:e.target.value}))}}),Object(f.jsx)(O.a,{fullWidth:!0,label:"Country",placeholder:"Enter your country",variant:"standard",style:a,value:t.country,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{country:e.target.value}))}}),Object(f.jsx)(O.a,{fullWidth:!0,label:"State",placeholder:"Enter your state",variant:"standard",style:a,value:t.state,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{state:e.target.value}))}}),Object(f.jsx)(O.a,{fullWidth:!0,label:"Address",placeholder:"Enter your Address",variant:"standard",style:a,value:t.address,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{address:e.target.value}))}})]})})})},H=n(122),K=n(231),Q=n(182),U=n(120),V=n.n(U),X=function(e){var t=e.patientInfo;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Q.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:[t.first_name," ",t.last_name]}),Object(f.jsx)(Q.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.date_birth?Object(f.jsx)(V.a,{fromNow:!0,ago:!0,children:t.date_birth}):Object(f.jsx)("div",{children:t.date_birth})})]})},Z=function(e){var t=e.children,n=e.patientInfo,a=Object(H.a)({palette:{mode:"dark",background:"white"}});return Object(f.jsx)(K.a,{sx:{flexGrow:1},"data-testid":"patient-header",children:Object(f.jsx)(p.a,{position:"static",theme:a,children:Object(f.jsxs)(x.a,{children:[n?Object(f.jsx)(X,{patientInfo:n}):Object(f.jsx)(Q.a,{variant:"h6",component:"div",sx:{flexGrow:1}}),t]})})})},$=function(){function e(){Object(W.a)(this,e)}return Object(L.a)(e,null,[{key:"delete",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("/api-patients/patient-delete/".concat(t,"/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("/api-patients/patient-update/".concat(t.id,"/"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api-patients/patient-create/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ee=function(){var e=Object(j.g)(),t=Object(s.useContext)(F),n=t.patients,a=t.setPatients,o=Object(s.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""}),l=Object(i.a)(o,2),u=l[0],d=l[1],b=function(){var t=Object(c.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.create(u);case 2:c=t.sent,a([u].concat(Object(q.a)(n))),e.push("/patient/".concat(c.data.id));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsxs)(Z,{children:[Object(f.jsx)(h.a,{disabled:!u.first_name||!u.last_name||!u.date_birth||!u.sex||!u.state||!u.country||!u.address,onClick:b,variant:"contained",sx:{ml:3},color:"success",children:"Add patient"}),Object(f.jsx)(h.a,{onClick:function(){return e.push("/")},variant:"contained",sx:{ml:3},children:"Cancel"})]}),Object(f.jsx)(Y,{patient:u,setPatient:d})]})},te=n(232),ne=n(213),ae=n(233),re=n(234),ce=n(235),ie=function(e){var t=e.id,n=Object(s.useState)(!1),a=Object(i.a)(n,2),o=a[0],l=a[1],u=Object(s.useContext)(F).setPatients,d=Object(j.g)(),b=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.delete(t);case 2:return e.next=4,N.getAll();case 4:n=e.sent,u(Object(q.a)(n.data)),d.push("/patient/".concat(n.data[0].id)),l(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){l(!1)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(h.a,{color:"error",variant:"contained",onClick:function(){l(!0)},sx:{ml:2},children:"Delete"}),Object(f.jsxs)(te.a,{open:o,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(f.jsx)(ne.a,{id:"alert-dialog-title",children:"You really want to remove the patient?"}),Object(f.jsx)(ae.a,{children:Object(f.jsx)(re.a,{id:"alert-dialog-description",children:"If you delete a patient, his data will be lost and you will not be able to recover it."})}),Object(f.jsxs)(ce.a,{children:[Object(f.jsx)(h.a,{onClick:p,children:"Disagree"}),Object(f.jsx)(h.a,{"data-testid":"Agree",color:"error",onClick:b,autoFocus:!0,children:"Agree"})]})]})]})},se=function(){var e=Object(s.useContext)(F),t=e.patients,n=e.setPatients,a=Object(j.g)(),o=Object(j.h)(),l=Object(s.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""}),u=Object(i.a)(l,2),d=u[0],b=u[1];Object(s.useEffect)(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.detail(o.id);case 2:t=e.sent,b(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var p=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.update(d);case 2:return e.next=4,N.getAll();case 4:t=e.sent,n(Object(q.a)(t.data)),a.push("/patient/".concat(d.id));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsxs)(Z,{children:[Object(f.jsx)(h.a,{onClick:p,variant:"contained",sx:{ml:2},color:"success",children:"Save"}),Object(f.jsx)(h.a,{disabled:!t,onClick:function(){return a.push("/patient/".concat(o.id))},variant:"contained",sx:{ml:2},children:"Cancel"}),Object(f.jsx)(ie,{id:o.id})]}),Object(f.jsx)(Y,{patient:d,setPatient:b})]})},oe=n(121),le=n.n(oe),ue=function(){function e(){Object(W.a)(this,e)}return Object(L.a)(e,null,[{key:"create",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api-patients/comment-create/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),de=function(e){var t=e.create,n=e.id,a=Object(s.useState)({comment:"",comment_id:n}),o=Object(i.a)(a,2),l=o[0],u=o[1],d=function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ue.create(l);case 3:a=e.sent,t(a.data),u(Object(b.a)(Object(b.a)({},l),{},{comment:""}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(B.a,{children:Object(f.jsx)(M.a,{elevation:20,sx:{p:"20px 20px",m:"0 25px 0 25px"},children:Object(f.jsx)(O.a,{fullWidth:!0,label:"Send Comment",value:l.comment,onChange:function(e){return u(Object(b.a)(Object(b.a)({},l),{},{comment:e.target.value}))},InputProps:{endAdornment:Object(f.jsx)(h.a,{disabled:!l.comment,onClick:d,variant:"outlined",endIcon:Object(f.jsx)(le.a,{}),children:"Send"})}})})})},je=n(236),be=function(e){var t=e.comments;return(null===t||void 0===t?void 0:t.length)?Object(f.jsx)(M.a,{style:{padding:"20px 20px"},children:t.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(D.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(f.jsxs)(D.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0,children:[Object(f.jsx)("h4",{style:{margin:0,textAlign:"left"},children:"Doctor"}),Object(f.jsx)("p",{children:e.comment}),Object(f.jsx)("p",{style:{textAlign:"left",color:"gray"},children:e.date_create})]})}),Object(f.jsx)(je.a,{variant:"fullWidth",style:{margin:"30px 0"}})]},e.id)}))}):Object(f.jsx)("div",{className:"comment-panel",children:Object(f.jsx)("h1",{style:{textAlign:"center"},children:"There are no comments yet"})})},pe=function(e){var t=e.patientInfo,n=e.paperStyle;return t?Object(f.jsxs)(M.a,{elevation:20,style:n,"data-testid":"patientcard",children:[Object(f.jsxs)(Q.a,{component:"div",variant:"h5",children:["First Name: ",t.first_name]}),Object(f.jsxs)(Q.a,{component:"div",variant:"h5",children:["Last Name: ",t.last_name]}),Object(f.jsxs)(Q.a,{component:"div",variant:"h5",children:["Country: ",t.country]}),Object(f.jsxs)(Q.a,{component:"div",variant:"h5",children:["State: ",t.state]}),Object(f.jsxs)(Q.a,{component:"div",variant:"h5",children:["Address: ",t.address]})]}):Object(f.jsx)(M.a,{elevation:20,style:n,children:Object(f.jsx)("div",{children:"Waiting..."})})},xe=function(e){var t=e.patientInfo,n=e.comments,a=e.children,r={padding:"30px 30px",margin:"25px",borderRadius:5};return Object(f.jsx)(K.a,{sx:{flexGrow:1},children:Object(f.jsxs)(D.a,{container:!0,sx:{justifyContent:"end",height:"100%"},children:[Object(f.jsx)(D.a,{item:!0,xs:6,md:4,children:Object(f.jsx)(pe,{paperStyle:r,patientInfo:t})}),Object(f.jsx)(D.a,{item:!0,xs:6,md:8,children:Object(f.jsx)(M.a,{elevation:10,style:r,sx:{height:450,overflowY:"scroll",wordWrap:"break-word",maxWidth:1e3,position:"relative",bottom:0},children:Object(f.jsx)(Q.a,{component:"div",children:Object(f.jsx)(be,{comments:n})})})}),Object(f.jsx)(D.a,{item:!0,xs:6,md:8,children:a})]})})},Oe=function(){function e(){Object(W.a)(this,e)}return Object(L.a)(e,null,[{key:"getAll",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/comments-detail/".concat(t,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),he=function(){var e=Object(j.h)().id,t=Object(j.g)(),n=Object(s.useState)(""),a=Object(i.a)(n,2),o=a[0],l=a[1],u=Object(s.useState)([]),d=Object(i.a)(u,2),b=d[0],p=d[1];Object(s.useEffect)(Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.detail(e);case 2:return n=t.sent,t.next=5,Oe.getAll(e);case 5:a=t.sent,l(n.data),p(a.data);case 8:case"end":return t.stop()}}),t)}))),[e]);var x=function(e){p([e].concat(Object(q.a)(b)))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)(Z,{patientInfo:o,children:[Object(f.jsx)(h.a,{disabled:!o.id,onClick:function(){return t.push("/patient/".concat(o.id,"/edit"))},variant:"contained",children:"Edit"}),Object(f.jsx)(ie,{id:e})]}),Object(f.jsx)(xe,{create:x,patientInfo:o,comments:b,children:Object(f.jsx)(de,{create:x})})]})};var fe=function(e){var t=e.id;return Object(f.jsx)(d.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(G,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/patient/create",children:Object(f.jsx)(ee,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/patient/:id",children:Object(f.jsx)(he,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/patient/:id/edit",children:Object(f.jsx)(se,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(j.a,{to:t||"/"})})]})})})})},ve=function(e){var t=e.children,n=Object(s.useState)([]),a=Object(i.a)(n,2),r=a[0],c=a[1];return Object(f.jsx)(F.Provider,{value:{patients:r,setPatients:c},children:t})};function me(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],o=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAll();case 2:t=e.sent,a("/patient/".concat(t.data[0].id));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n||o(),Object(f.jsx)(ve,{children:Object(f.jsx)(fe,{id:n})})}u.a.render(Object(f.jsx)(me,{}),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.7e60ea62.chunk.js.map
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{21:function(e,t,n){e.exports={myModal:"MyModal_myModal__2QHNV",myModalContent:"MyModal_myModalContent__31Xa3",active:"MyModal_active__1pd6O"}},38:function(e,t,n){e.exports={MyInput:"Input_MyInput__3_hra"}},40:function(e,t,n){e.exports={MyBtn:"MyButton_MyBtn__f-ab1"}},41:function(e,t,n){e.exports={MySelect:"MySelect_MySelect__2UyJg"}},43:function(e,t,n){e.exports={MyTextArea:"MyTextArea_MyTextArea__28pN2"}},48:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(35),s=n.n(c),i=n(6),u=(n(48),n(19)),o=n(5),j=n(16),l=n(2),d=n.n(l),b=n(4),p=n(36),O=n(37),f=n(13),h=n.n(f),x=function(){function e(){Object(p.a)(this,e)}return Object(O.a)(e,null,[{key:"getPatient",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api-patients/patient-list/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstPatient",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api-patients/patient-first/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"DeletePatient",value:function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("/api-patients/patient-delete/".concat(t,"/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"DetailPatient",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api-patients/patient-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CommentPatient",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api-patients/comments-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePatient",value:function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("/api-patients/patient-update/".concat(t.id,"/"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreatePatient",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api-patients/patient-create/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateComment",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api-patients/comment-create/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),m=n(0),v=function(e){var t=e.children;return Object(m.jsx)("div",{className:"panels",children:t})},y=function(e){var t=e.children;return Object(m.jsx)("div",{className:"left-panel",children:t})},C=n(3),_=n(38),w=n.n(_),g=r.a.forwardRef((function(e,t){return Object(m.jsx)("input",Object(C.a)({ref:t,className:w.a.MyInput},e))})),k=function(e){var t=e.filter,n=e.setFilter;return Object(m.jsx)(g,{value:t.query,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{query:e.target.value}))},placeholder:"Search"})},N=n(39),P=n(40),M=n.n(P),S=["children"],L=function(e){var t=e.children,n=Object(N.a)(e,S);return Object(m.jsx)("button",Object(C.a)(Object(C.a)({},n),{},{className:M.a.MyBtn,children:t}))},E=n(41),A=n.n(E),D=function(e){var t=e.option,n=e.defaultValue,a=e.value,r=e.onChange;return Object(m.jsxs)("select",{className:A.a.MySelect,value:a,onChange:function(e){return r(e.target.value)},children:[Object(m.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(m.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},F=function(e){var t=e.post,n=e.setPost,r=e.children,c=Object(a.useState)("text"),s=Object(i.a)(c,2),u=s[0],o=s[1];return Object(m.jsxs)("form",{children:[Object(m.jsx)(g,{value:t.first_name,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{first_name:e.target.value}))},type:"text",placeholder:"First Name"}),Object(m.jsx)(g,{value:t.last_name,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{last_name:e.target.value}))},type:"text",placeholder:"Last Name"}),Object(m.jsx)(g,{value:t.date_birth,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{date_birth:e.target.value}))},type:u,max:(new Date).toJSON().slice(0,10),onFocus:function(){return o("date")},onBlur:function(){return o("text")},placeholder:"Date birth"}),Object(m.jsx)(D,{defaultValue:"Select gender",value:t.sex,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{sex:e}))},option:[{value:"Male",name:"Male"},{value:"Female",name:"Female"}]}),Object(m.jsx)(g,{value:t.country,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{country:e.target.value}))},type:"text",placeholder:"Country"}),Object(m.jsx)(g,{value:t.state,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{state:e.target.value}))},type:"text",placeholder:"State"}),Object(m.jsx)(g,{value:t.address,onChange:function(e){return n(Object(C.a)(Object(C.a)({},t),{},{address:e.target.value}))},type:"text",placeholder:"Address"}),r]})},B=function(){var e=Object(b.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.CreatePatient(t);case 2:r=e.sent,a(r.data),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),R=function(e){var t=e.children;return Object(m.jsx)("header",{className:"header-right-panel",children:Object(m.jsx)("div",{className:"placing-btn",children:t})})},I=Object(a.createContext)(null),T=function(e){var t=e.create,n=Object(a.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""}),r=Object(i.a)(n,2),c=r[0],s=r[1],u=Object(a.useContext)(I).setCreateEnable,o=function(){var e=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(c,s,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsxs)(R,{children:[Object(m.jsx)("span",{onClick:function(){return u(!1)},children:Object(m.jsx)(L,{onClick:o,children:"Add patient"})}),Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:function(){return u(!1)},children:"Cancel"})})]}),Object(m.jsx)(F,{post:c,setPost:s})]})},q=(n(21),n(24)),J=n.n(q),U=function(e){var t=Object(o.g)();return Object(m.jsxs)("div",{className:e.id===e.patients.id?"patient choose-patient":"patient",onClick:function(){return t.push("/patient/".concat(e.patients.id))},children:[Object(m.jsxs)("div",{className:"first-last-name",children:[e.patients.first_name," ",e.patients.last_name]}),Object(m.jsxs)("div",{className:"date-patient",children:[Object(m.jsx)("p",{children:e.patients.sex}),e.patients.date_birth]})]})},V=function(e){var t=e.patients,n=e.id;return t.length?Object(m.jsx)("div",{children:t.map((function(e){return Object(m.jsx)(U,{id:n,patients:e},e.id)}))}):Object(m.jsx)("div",{children:Object(m.jsx)("h1",{style:{textAlign:"center"},children:"Posts not found!"})})},H=function(e){var t=e.children;return Object(m.jsx)("div",{className:"right-panel",children:t})},Q=function(e){var t=e.post,n=e.setPost,a=e.setEdit,r=e.updRightPanel,c=e.deletePatient,s=function(){var e=Object(b.a)(d.a.mark((function e(c){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,x.UpdatePatient(t);case 3:return e.next=5,x.getPatient();case 5:s=e.sent,r(s.data),a(!1),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsxs)(R,{children:[Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:s,children:"Save"})}),Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:function(){return a(!1)},children:"Cancel"})}),Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:c,children:"Delete"})})]}),Object(m.jsx)(F,{post:t,setPost:n,handler:s})]})},X=function(){var e=Object(b.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.CreateComment(t);case 2:r=e.sent,a(r.data),n(Object(C.a)(Object(C.a)({},t),{},{comment:""}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),z=n(43),G=n.n(z),K=r.a.forwardRef((function(e,t){return Object(m.jsx)("textarea",Object(C.a)({ref:t,className:G.a.MyTextArea},e))})),W=function(e){var t=e.create,n=e.comment,a=e.setComment,r=function(){var e=Object(b.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),X(n,a,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"send-comment",children:[Object(m.jsx)("div",{className:"input-sendMessage",children:Object(m.jsx)(K,{type:"textarea",value:n.comment,onChange:function(e){return a(Object(C.a)(Object(C.a)({},n),{},{comment:e.target.value}))}})}),n.comment?Object(m.jsx)(L,{disabled:!1,onClick:r,children:"Send comment"}):Object(m.jsx)(L,{disabled:!0,onClick:r,children:"Send comment"})]})},Y=function(e){var t=e.info;return Object(m.jsx)("div",{className:"out-patient",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"First Name:"}),Object(m.jsx)("td",{children:t.first_name})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Last Name:"}),Object(m.jsx)("td",{children:t.last_name})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Country:"}),Object(m.jsx)("td",{children:t.country})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"State:"}),Object(m.jsx)("td",{children:t.state})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Address"}),Object(m.jsx)("td",{children:t.address})]})]})})})},Z=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"first-last-name",children:[e.com.username," ",e.com.comment]}),Object(m.jsx)("div",{className:"date-patient",children:e.com.date_create})]})},$=function(e){var t=e.comments;return t.length?Object(m.jsx)("div",{className:"comment-panel",children:t.map((function(e){return Object(m.jsx)("div",{className:"comment",children:Object(m.jsx)(Z,{com:e})},e.id)}))}):Object(m.jsx)("div",{className:"comment-panel",children:Object(m.jsx)("h1",{style:{textAlign:"center"},children:"There are no comments yet"})})},ee=function(e){var t=e.info,n=e.comments;return Object(m.jsxs)("div",{className:"main-block",children:[Object(m.jsx)(Y,{info:t}),Object(m.jsx)($,{comments:n})]})},te=function(e){var t=e.info;return Object(m.jsxs)("span",{className:"position-header-info",children:[Object(m.jsxs)("span",{className:"",children:[t.first_name," ",t.last_name]}),Object(m.jsx)("span",{children:Object(m.jsx)(J.a,{fromNow:!0,ago:!0,children:t.date_birth})})]})},ne=function(e){var t=e.id,n=e.deletePatient,r=e.updRightPanel,c=e.create,s=Object(a.useContext)(I).createEnable,u=Object(a.useState)(!1),o=Object(i.a)(u,2),l=o[0],p=o[1],O=Object(a.useState)([]),f=Object(i.a)(O,2),h=f[0],v=f[1],y=Object(a.useState)({comment:"",comment_id:""}),C=Object(i.a)(y,2),_=C[0],w=C[1],g=Object(a.useState)(""),k=Object(i.a)(g,2),N=k[0],P=k[1],M=Object(a.useCallback)(Object(b.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.DetailPatient(t);case 2:return n=e.sent,e.next=5,x.CommentPatient(t);case 5:a=e.sent,P(n.data),v(a.data),w({comment:"",comment_id:t});case 9:case"end":return e.stop()}}),e)}))),[t]),S=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v([t].concat(Object(j.a)(h)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){M()}),[l,M]),l||s?Object(m.jsx)("div",{children:s?Object(m.jsx)(T,{create:c}):Object(m.jsx)(Q,{post:N,setPost:P,setEdit:p,updRightPanel:r,deletePatient:n})}):Object(m.jsxs)("div",{children:[Object(m.jsxs)(R,{children:[Object(m.jsx)(te,{info:N}),Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:function(){return p(!0)},children:"Edit"})}),Object(m.jsx)("span",{children:Object(m.jsx)(L,{onClick:n,children:"Delete"})})]}),Object(m.jsx)(ee,{info:N,comments:h,create:S,comment:_,setComment:w}),Object(m.jsx)(W,{create:S,comment:_,setComment:w})]})};var ae=function(){var e=Object(a.useContext)(I).setCreateEnable,t=Object(o.h)(),n=Object(o.g)(),r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],u=c[1],l=Object(a.useState)({query:""}),p=Object(i.a)(l,2),O=p[0],f=p[1],h=function(e,t){var n=e,r=t.toLowerCase().replace(/\s/g,"");return Object(a.useMemo)((function(){var e=t.toLowerCase().split(" ",2);return n.filter((function(t){return t.first_name.toLowerCase().includes(e[0])&&t.last_name.toLowerCase().includes(e[1])||t.first_name.toLowerCase().includes(r)||t.last_name.toLowerCase().includes(r)||t.first_name.toLowerCase().includes(e[1])&&t.last_name.toLowerCase().includes(e[0])}))}),[t,n])}(s,O.query),C=Object(a.useState)(!1),_=Object(i.a)(C,2),w=_[0],g=_[1],N=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),u=Object(i.a)(s,2),o=u[0],j=u[1],l=function(){var t=Object(b.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[l,r,o]}(Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getPatient();case 2:return t=e.sent,u(t.data),e.next=6,x.getFirstPatient();case 6:a=e.sent,n.push("/patient/".concat(a.data.id)),g(!1);case 9:case"end":return e.stop()}}),e)})))),P=Object(i.a)(N,3),M=P[0],S=P[1],E=P[2];Object(a.useEffect)((function(){M()}),[w]);var A=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u([t].concat(Object(j.a)(s))),n.push("/patient/".concat(t.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.DeletePatient(t.id);case 2:g(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"App",children:[E,Object(m.jsxs)(v,{children:[Object(m.jsxs)(y,{children:[Object(m.jsx)(k,{filter:O,setFilter:f}),Object(m.jsx)(L,{onClick:function(){return e(!0)},children:"Create user"}),S?Object(m.jsx)("div",{children:"Loading..."}):Object(m.jsx)(V,{patients:h,id:t.id})]}),Object(m.jsx)(H,{children:t.id?Object(m.jsx)(ne,{id:t.id,deletePatient:D,updRightPanel:function(e){u(Object(j.a)(e))},create:A}):Object(m.jsx)("div",{children:"Loading..."})})]})]})};var re=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)(I.Provider,{value:{createEnable:n,setCreateEnable:r},children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:"/patient",children:Object(m.jsx)(ae,{})}),Object(m.jsx)(o.b,{path:"/patient/:id",children:Object(m.jsx)(ae,{})}),Object(m.jsx)(o.a,{to:"/patient"})]})})})};s.a.render(Object(m.jsx)(re,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.ae5371ae.chunk.js.map
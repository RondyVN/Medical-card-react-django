(this["webpackJsonppatients-app-ui"]=this["webpackJsonppatients-app-ui"]||[]).push([[0],{13:function(e,t,n){e.exports={myModal:"MyModal_myModal__2656H",myModalContent:"MyModal_myModalContent__1V8Bc",active:"MyModal_active__EofLT"}},24:function(e,t,n){e.exports={MyBtn:"MyButton_MyBtn__GtlHn"}},25:function(e,t,n){e.exports={MyInput:"Input_MyInput__1F2Fy"}},26:function(e,t,n){e.exports={MySelect:"MySelect_MySelect__3YPep"}},29:function(e,t,n){e.exports={MyTextArea:"MyTextArea_MyTextArea__3RIjp"}},36:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(23),s=n.n(c),i=n(9),u=n(2),o=n.n(u),l=n(4),j=n(5),d=(n(36),n(0)),p=function(e){return Object(d.jsxs)("div",{className:e.id===e.patients.id?"patient choose-patient":"patient",onClick:function(){e.setId(e.patients.id)},children:[Object(d.jsxs)("div",{className:"first-last-name",children:[e.patients.first_name," ",e.patients.last_name]}),Object(d.jsxs)("div",{className:"date-patient",children:[Object(d.jsx)("p",{children:e.patients.sex}),e.patients.date_birth]})]})},b=function(e){var t=e.setId,n=e.patients,a=e.id;return n.length?Object(d.jsx)("div",{children:n.map((function(e){return Object(d.jsx)(p,{setId:t,id:a,patients:e},e.id)}))}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{style:{textAlign:"center"},children:"Posts not found!"})})},f=n(3),O=n(30),h=n(24),x=n.n(h),m=["children"],v=function(e){var t=e.children,n=Object(O.a)(e,m);return Object(d.jsx)("button",Object(f.a)(Object(f.a)({},n),{},{className:x.a.MyBtn,children:t}))},y=n(25),_=n.n(y),w=r.a.forwardRef((function(e,t){return Object(d.jsx)("input",Object(f.a)({ref:t,className:_.a.MyInput},e))})),C=function(e){var t=e.filter,n=e.setFilter;return Object(d.jsx)(w,{value:t.query,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{query:e.target.value}))},placeholder:"Search"})},g=n(13),k=n.n(g),N=function(e){var t=e.children,n=e.visible,a=e.setVisible,r=[k.a.myModal];return n&&r.push(k.a.active),Object(d.jsx)("div",{className:r.join(" "),onClick:function(){return a(!1)},children:Object(d.jsx)("div",{className:k.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},M=n(26),P=n.n(M),S=function(e){var t=e.option,n=e.defaultValue,a=e.value,r=e.onChange;return Object(d.jsxs)("select",{className:P.a.MySelect,value:a,onChange:function(e){return r(e.target.value)},children:[Object(d.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},L=function(e){var t=e.post,n=e.setPost,r=e.children,c=Object(a.useState)("text"),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(d.jsxs)("form",{children:[Object(d.jsx)(w,{value:t.first_name,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{first_name:e.target.value}))},type:"text",placeholder:"First Name"}),Object(d.jsx)(w,{value:t.last_name,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{last_name:e.target.value}))},type:"text",placeholder:"Last Name"}),Object(d.jsx)(w,{value:t.date_birth,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{date_birth:e.target.value}))},type:i,max:(new Date).toJSON().slice(0,10),onFocus:function(){return u("date")},onBlur:function(){return u("text")},placeholder:"Date birth"}),Object(d.jsx)(S,{defaultValue:"Select gender",value:t.sex,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sex:e}))},option:[{value:"Male",name:"Male"},{value:"Female",name:"Female"}]}),Object(d.jsx)(w,{value:t.country,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{country:e.target.value}))},type:"text",placeholder:"Country"}),Object(d.jsx)(w,{value:t.state,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{state:e.target.value}))},type:"text",placeholder:"State"}),Object(d.jsx)(w,{value:t.address,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{address:e.target.value}))},type:"text",placeholder:"Address"}),r]})},D=n(27),F=n(28),A=n(7),E=n.n(A),I=function(){function e(){Object(D.a)(this,e)}return Object(F.a)(e,null,[{key:"getPatient",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/patient-list/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstPatient",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/patient-first/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"DeletePatient",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("/api-patients/patient-delete/".concat(t,"/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"DetailPatient",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/patient-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CommentPatient",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api-patients/comments-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePatient",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("/api-patients/patient-update/".concat(t.id,"/"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreatePatient",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api-patients/patient-create/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateComment",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api-patients/comment-create/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),B=function(e){var t=(new Date).toJSON().slice(0,10),n=+t.slice(0,4)-e.slice(0,4);return+t.slice(5,7)<e.slice(5,7)&&(n-=1),n},R=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in r=Object.values(t),c=0,r)""===r[s]&&(c+=1);if(console.log(c),0!==c){e.next=10;break}return e.next=7,I.CreatePatient(t);case 7:i=e.sent,a(i.data),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""});case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),T=function(e){var t=e.create,n=Object(a.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""}),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),u=Object(j.a)(i,2),p=u[0],b=u[1],f=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),R(c,s,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)(L,{post:c,setPost:s,setEnableCreate:b,children:Object(d.jsx)("div",{className:"position-btn-to-createForm",children:Object(d.jsx)(v,{disabled:p,onClick:f,children:"Add patient"})})})})},V=function(e){var t=e.children;return Object(d.jsx)("div",{className:"panels",children:t})},q=function(e){var t=e.children;return Object(d.jsx)("div",{className:"left-panel",children:t})},J=function(e){var t=e.children;return Object(d.jsx)("div",{className:"right-panel",children:t})},H=function(e){var t=e.children;return Object(d.jsx)("header",{className:"header-right-panel",children:Object(d.jsx)("div",{className:"placing-btn",children:t})})},U=function(e){var t=e.post,n=e.setPost,a=e.setEdit,r=e.updRightPanel,c=e.deletePatient,s=function(){var e=Object(l.a)(o.a.mark((function e(c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,I.UpdatePatient(t);case 3:return e.next=5,I.getPatient();case 5:s=e.sent,r(s.data),a(!1),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)(H,{children:[Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:s,children:"Save"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:function(){return a(!1)},children:"Cancel"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:c,children:"Delete"})})]}),Object(d.jsx)(L,{post:t,setPost:n,handler:s})]})},Y=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.CreateComment(t);case 2:r=e.sent,a(r.data),n(Object(f.a)(Object(f.a)({},t),{},{comment:""}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),G=n(29),z=n.n(G),K=r.a.forwardRef((function(e,t){return Object(d.jsx)("textarea",Object(f.a)({ref:t,className:z.a.MyTextArea},e))})),Q=function(e){var t=e.create,n=e.comment,a=e.setComment,r=function(){var e=Object(l.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),Y(n,a,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"send-comment",children:[Object(d.jsx)("div",{className:"input-sendMessage",children:Object(d.jsx)(K,{type:"textarea",value:n.comment,onChange:function(e){return a(Object(f.a)(Object(f.a)({},n),{},{comment:e.target.value}))}})}),n.comment?Object(d.jsx)(v,{disabled:!1,onClick:r,children:"Send comment"}):Object(d.jsx)(v,{disabled:!0,onClick:r,children:"Send comment"})]})},W=function(e){var t=e.info;return Object(d.jsx)("div",{className:"out-patient",children:Object(d.jsx)("table",{children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"First Name:"}),Object(d.jsx)("td",{children:t.first_name})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Last Name:"}),Object(d.jsx)("td",{children:t.last_name})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Country:"}),Object(d.jsx)("td",{children:t.country})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"State:"}),Object(d.jsx)("td",{children:t.state})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Address"}),Object(d.jsx)("td",{children:t.address})]})]})})})},X=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"first-last-name",children:[e.com.username," ",e.com.comment]}),Object(d.jsx)("div",{className:"date-patient",children:e.com.date_create})]})},Z=function(e){var t=e.comments;return t.length?Object(d.jsx)("div",{className:"comment-panel",children:t.map((function(e){return Object(d.jsx)("div",{className:"comment",children:Object(d.jsx)(X,{com:e})},e.id)}))}):Object(d.jsx)("div",{className:"comment-panel",children:Object(d.jsx)("h1",{style:{textAlign:"center"},children:"There are no comments yet"})})},$=function(e){var t=e.info,n=e.comments;return Object(d.jsxs)("div",{className:"main-block",children:[Object(d.jsx)(W,{info:t}),Object(d.jsx)(Z,{comments:n})]})},ee=function(e){var t=e.info,n=e.old;return Object(d.jsxs)("span",{className:"position-header-info",children:[Object(d.jsxs)("span",{className:"",children:[t.first_name," ",t.last_name]}),Object(d.jsxs)("span",{children:["Years old ",n]})]})},te=function(e){var t=e.id,n=e.edit,r=e.setEdit,c=e.deletePatient,s=e.updRightPanel,u=Object(a.useState)([]),p=Object(j.a)(u,2),b=p[0],f=p[1],O=Object(a.useState)({comment:"",comment_id:""}),h=Object(j.a)(O,2),x=h[0],m=h[1],y=Object(a.useState)(0),_=Object(j.a)(y,2),w=_[0],C=_[1],g=Object(a.useState)(""),k=Object(j.a)(g,2),N=k[0],M=k[1],P=Object(a.useCallback)(Object(l.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.DetailPatient(t);case 2:return n=e.sent,e.next=5,I.CommentPatient(t);case 5:a=e.sent,r=B(n.data.date_birth),C(r),M(n.data),f(a.data),m({comment:"",comment_id:t});case 11:case"end":return e.stop()}}),e)}))),[t]),S=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f([t].concat(Object(i.a)(b)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){P()}),[n,P]),n?Object(d.jsx)("div",{children:Object(d.jsx)(U,{post:N,setPost:M,setEdit:r,updRightPanel:s,deletePatient:c})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)(H,{children:[Object(d.jsx)(ee,{info:N,old:w}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:function(){return r(!0)},children:"Edit"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:c,children:"Delete"})})]}),Object(d.jsx)($,{info:N,comments:b,create:S,comment:x,setComment:m}),Object(d.jsx)(Q,{create:S,comment:x,setComment:m})]})};var ne=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(j.a)(c,2),u=s[0],p=s[1],f=Object(a.useState)({query:""}),O=Object(j.a)(f,2),h=O[0],x=O[1],m=Object(a.useState)(!1),y=Object(j.a)(m,2),_=y[0],w=y[1],g=function(e,t){var n=e,r=t.toLowerCase().replace(/\s/g,"");return Object(a.useMemo)((function(){var e=t.toLowerCase().split(" ",2);return n.filter((function(t){return t.first_name.toLowerCase().includes(e[0])&&t.last_name.toLowerCase().includes(e[1])||t.first_name.toLowerCase().includes(r)||t.last_name.toLowerCase().includes(r)||t.first_name.toLowerCase().includes(e[1])&&t.last_name.toLowerCase().includes(e[0])}))}),[t,n])}(u,h.query),k=Object(a.useState)(""),M=Object(j.a)(k,2),P=M[0],S=M[1],L=Object(a.useState)(!1),D=Object(j.a)(L,2),F=D[0],A=D[1],E=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),u=i[0],d=i[1],p=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[p,r,u]}(Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getPatient();case 2:return t=e.sent,p(t.data),e.next=6,I.getFirstPatient();case 6:n=e.sent,S(n.data.id),A(!1);case 9:case"end":return e.stop()}}),e)})))),B=Object(j.a)(E,3),R=B[0],H=B[1],U=B[2];Object(a.useEffect)((function(){R()}),[F]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p([t].concat(Object(i.a)(u))),S(t.id),w(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.DeletePatient(P);case 2:A(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[U,Object(d.jsxs)(V,{children:[Object(d.jsxs)(q,{children:[Object(d.jsx)(C,{filter:h,setFilter:x}),Object(d.jsx)("div",{className:"position-btn",children:Object(d.jsx)(v,{onClick:function(){return w(!0)},children:"Create user"})}),Object(d.jsx)(N,{visible:_,setVisible:w,children:Object(d.jsx)(T,{create:Y})}),H?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsx)(b,{setId:function(e){S(e)},patients:g,id:P})]}),Object(d.jsx)(J,{children:P?Object(d.jsx)(te,{edit:n,id:P,setEdit:r,deletePatient:G,updRightPanel:function(e){p(Object(i.a)(e))}}):Object(d.jsx)("div",{children:"Loading..."})})]})]})};s.a.render(Object(d.jsx)(ne,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.f75d89ad.chunk.js.map
(this["webpackJsonppatients-app-ui"]=this["webpackJsonppatients-app-ui"]||[]).push([[0],{13:function(e,t,n){e.exports={myModal:"MyModal_myModal__2656H",myModalContent:"MyModal_myModalContent__1V8Bc",active:"MyModal_active__EofLT"}},24:function(e,t,n){e.exports={MyBtn:"MyButton_MyBtn__GtlHn"}},25:function(e,t,n){e.exports={MyInput:"Input_MyInput__1F2Fy"}},34:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(23),s=n.n(c),i=n(9),u=n(1),o=n.n(u),j=n(4),l=n(5),d=(n(34),n(0)),b=function(e){return Object(d.jsxs)("div",{className:"patient",onClick:function(){e.setId(e.patients.id)},children:[Object(d.jsxs)("div",{className:"first-last-name",children:[e.patients.first_name," ",e.patients.last_name]}),Object(d.jsx)("div",{className:"date-patient",children:e.patients.date_birth})]})},p=function(e){var t=e.setId,n=e.patients;return n.length?Object(d.jsx)("div",{children:n.map((function(e){return Object(d.jsx)(b,{setId:t,patients:e},e.id)}))}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{style:{textAlign:"center"},children:"Posts not found!"})})},O=n(3),f=n(28),h=n(24),x=n.n(h),m=["children"],v=function(e){var t=e.children,n=Object(f.a)(e,m);return Object(d.jsx)("button",Object(O.a)(Object(O.a)({},n),{},{className:x.a.MyBtn,children:t}))},y=n(25),k=n.n(y),w=r.a.forwardRef((function(e,t){return Object(d.jsx)("input",Object(O.a)({ref:t,className:k.a.MyInput},e))})),g=function(e){var t=e.filter,n=e.setFilter;return Object(d.jsx)(w,{value:t.query,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{query:e.target.value}))},placeholder:"Search"})},C=n(13),_=n.n(C),P=function(e){var t=e.children,n=e.visible,a=e.setVisible,r=[_.a.myModal];return n&&r.push(_.a.active),Object(d.jsx)("div",{className:r.join(" "),onClick:function(){return a(!1)},children:Object(d.jsx)("div",{className:_.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},N=function(e){var t=e.post,n=e.setPost,a=e.children;return Object(d.jsxs)("form",{children:[Object(d.jsx)(w,{value:t.first_name,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{first_name:e.target.value}))},type:"text",placeholder:"First Name"}),Object(d.jsx)(w,{value:t.last_name,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{last_name:e.target.value}))},type:"text",placeholder:"Last Name"}),Object(d.jsx)(w,{value:t.date_birth,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{date_birth:e.target.value}))},type:"date",placeholder:"Date birth"}),Object(d.jsxs)("select",{value:t.sex,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{sex:e.target.value}))},children:[Object(d.jsx)("option",{disabled:!0,value:"",children:"Choose sex"}),Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"})]}),Object(d.jsx)(w,{value:t.country,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{country:e.target.value}))},type:"text",placeholder:"Country"}),Object(d.jsx)(w,{value:t.state,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{state:e.target.value}))},type:"text",placeholder:"State"}),Object(d.jsx)(w,{value:t.address,onChange:function(e){return n(Object(O.a)(Object(O.a)({},t),{},{address:e.target.value}))},type:"text",placeholder:"Address"}),a]})},M=n(26),S=n(27),D=n(7),F=n.n(D),E=function(){function e(){Object(M.a)(this,e)}return Object(S.a)(e,null,[{key:"getPatient",value:function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://127.0.0.1:8000/api-patients/patient-list/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstPatient",value:function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://127.0.0.1:8000/api-patients/patient-first/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"DeletePatient",value:function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("http://127.0.0.1:8000/api-patients/patient-delete/".concat(t,"/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"DetailPatient",value:function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://127.0.0.1:8000/api-patients/patient-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CommentPatient",value:function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://127.0.0.1:8000/api-patients/comments-detail/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePatient",value:function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.put("http://127.0.0.1:8000/api-patients/patient-update/".concat(t.id,"/"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreatePatient",value:function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("http://127.0.0.1:8000/api-patients/patient-create/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=function(){var e=Object(j.a)(o.a.mark((function e(t,n,a){var r,c,s,i,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in r=Object.values(t),c=Object.keys(t),s=0,0,r)""===r[i]&&(s+=1,c[+i],n(Object(O.a)(Object(O.a)({},t),{},{key:""})));if(u=(new Date).toJSON().slice(0,10),t.date_birth>u&&n(Object(O.a)(Object(O.a)({},t),{},{date_birth:""})),0!==s){e.next=13;break}return e.next=10,E.CreatePatient(t);case 10:j=e.sent,a(j.data),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""});case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),L=function(e){var t=e.create,n=Object(a.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:"",address:""}),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),b=u[0],p=u[1],O=function(){var e=Object(j.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),I(c,s,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)(N,{post:c,setPost:s,setEnableCreate:p,children:Object(d.jsx)("div",{className:"position-btn-to-createForm",children:Object(d.jsx)(v,{disabled:b,onClick:O,children:"Add patient"})})})})},B=function(e){var t=e.children;return Object(d.jsx)("div",{className:"panels",children:t})},A=function(e){var t=e.children;return Object(d.jsx)("div",{className:"left-panel",children:t})},R=function(e){var t=e.children;return Object(d.jsx)("div",{className:"right-panel",children:t})},q=function(e){var t=e.children;return Object(d.jsx)("header",{className:"header-right-panel",children:Object(d.jsx)("div",{className:"placing-btn",children:t})})},J=function(e){var t=e.post,n=e.setPost,a=e.setEdit,r=e.updRightPanel,c=e.deletePatient,s=function(){var e=Object(j.a)(o.a.mark((function e(c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,E.UpdatePatient(t);case 3:return e.next=5,E.getPatient();case 5:s=e.sent,r(s.data),a(!1),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)(q,{children:[Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:s,children:"Save"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:function(){return a(!1)},children:"Cancel"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:c,children:"Delete"})})]}),Object(d.jsx)(N,{post:t,setPost:n,handler:s})]})},V=function(){var e=Object(j.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("http://127.0.0.1:8000/api-patients/comment-create/",t);case 2:r=e.sent,a(r.data),n(Object(O.a)(Object(O.a)({},t),{},{comment:""}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(e){var t=e.create,n=e.comment,a=e.setComment,r=function(){var e=Object(j.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),V(n,a,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"send-comment",children:[Object(d.jsx)("div",{className:"input-sendMessage",children:Object(d.jsx)(w,{type:"textarea",value:n.comment,onChange:function(e){return a(Object(O.a)(Object(O.a)({},n),{},{comment:e.target.value}))}})}),n.comment?Object(d.jsx)(v,{disabled:!1,onClick:r,children:"Send comment"}):Object(d.jsx)(v,{disabled:!0,onClick:r,children:"Send comment"})]})},U=function(e){var t=e.info;return Object(d.jsx)("div",{className:"out-patient",children:Object(d.jsx)("table",{children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"First Name:"}),Object(d.jsx)("td",{children:t.first_name})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Last Name:"}),Object(d.jsx)("td",{children:t.last_name})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Country:"}),Object(d.jsx)("td",{children:t.country})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"State:"}),Object(d.jsx)("td",{children:t.state})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Address"}),Object(d.jsx)("td",{children:t.address})]})]})})})},G=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"first-last-name",children:[e.com.username," ",e.com.comment]}),Object(d.jsx)("div",{className:"date-patient",children:e.com.date_create})]})},T=function(e){var t=e.comments;return Object(d.jsx)("div",{className:"comment-panel",children:t.map((function(e){return Object(d.jsx)("div",{className:"comment",children:Object(d.jsx)(G,{com:e})},e.id)}))})},z=function(e){var t=e.info,n=e.comments;return Object(d.jsxs)("div",{className:"main-block",children:[Object(d.jsx)(U,{info:t}),Object(d.jsx)(T,{comments:n})]})},K=function(e){var t=e.id,n=e.edit,r=e.setEdit,c=e.deletePatient,s=e.updRightPanel,u=Object(a.useState)([]),b=Object(l.a)(u,2),p=b[0],O=b[1],f=Object(a.useState)({comment:"",comment_id:""}),h=Object(l.a)(f,2),x=h[0],m=h[1],y=Object(a.useState)(""),k=Object(l.a)(y,2),w=k[0],g=k[1],C=Object(a.useCallback)(Object(j.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.DetailPatient(t);case 2:return n=e.sent,e.next=5,E.CommentPatient(t);case 5:a=e.sent,g(n.data),O(a.data),m({comment:"",comment_id:t});case 9:case"end":return e.stop()}}),e)}))),[t]),_=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O([t].concat(Object(i.a)(p)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C()}),[n,C]),n?Object(d.jsx)("div",{children:Object(d.jsx)(J,{post:w,setPost:g,setEdit:r,updRightPanel:s,deletePatient:c})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)(q,{children:[Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:function(){return r(!0)},children:"Edit"})}),Object(d.jsx)("span",{children:Object(d.jsx)(v,{onClick:c,children:"Delete"})})]}),Object(d.jsx)(z,{info:w,comments:p,create:_,comment:x,setComment:m}),Object(d.jsx)(H,{create:_,comment:x,setComment:m})]})};var Q=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),u=s[0],b=s[1],O=Object(a.useState)({query:""}),f=Object(l.a)(O,2),h=f[0],x=f[1],m=Object(a.useState)(!1),y=Object(l.a)(m,2),k=y[0],w=y[1],C=function(e,t){var n=e;return Object(a.useMemo)((function(){return n.filter((function(e){return e.first_name.toLowerCase().includes(t.toLowerCase())||e.last_name.toLowerCase().includes(t.toLowerCase())}))}),[t,n])}(u,h.query),_=Object(a.useState)(""),N=Object(l.a)(_,2),M=N[0],S=N[1],D=Object(a.useState)(!1),F=Object(l.a)(D,2),I=F[0],q=F[1],J=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],b=function(){var t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[b,r,u]}(Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getPatient();case 2:return t=e.sent,b(t.data),e.next=6,E.getFirstPatient();case 6:n=e.sent,S(n.data.id),q(!1);case 9:case"end":return e.stop()}}),e)})))),V=Object(l.a)(J,3),H=V[0],U=V[1],G=V[2];Object(a.useEffect)((function(){H()}),[I]);var T=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b([t].concat(Object(i.a)(u))),S(t.id),w(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.DeletePatient(M);case 2:q(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[G,Object(d.jsxs)(B,{children:[Object(d.jsxs)(A,{children:[Object(d.jsx)(g,{filter:h,setFilter:x}),Object(d.jsx)("div",{className:"position-btn",children:Object(d.jsx)(v,{onClick:function(){return w(!0)},children:"Create user"})}),Object(d.jsx)(P,{visible:k,setVisible:w,children:Object(d.jsx)(L,{create:T})}),U?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsx)(p,{setId:function(e){S(e)},patients:C})]}),Object(d.jsx)(R,{children:M?Object(d.jsx)(K,{edit:n,id:M,setEdit:r,deletePatient:z,updRightPanel:function(e){b(Object(i.a)(e))}}):Object(d.jsx)("div",{children:"Loading..."})})]})]})};s.a.render(Object(d.jsx)(Q,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a0f3d10c.chunk.js.map
(this["webpackJsonppatients-app-ui"]=this["webpackJsonppatients-app-ui"]||[]).push([[0],{12:function(e,t,n){e.exports={myModal:"MyModal_myModal__2656H",myModalContent:"MyModal_myModalContent__1V8Bc",active:"MyModal_active__EofLT"}},24:function(e,t,n){e.exports={MyBtn:"MyButton_MyBtn__GtlHn"}},25:function(e,t,n){e.exports={MyInput:"Input_MyInput__1F2Fy"}},32:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),s=n.n(r),i=n(14),u=n(3),l=n.n(u),j=n(6),o=n(4),d=(n(32),n(0)),b=function(e){return Object(d.jsxs)("div",{className:"patient",onClick:function(){e.setId(e.patients.id)},children:[Object(d.jsxs)("div",{className:"first-last-name",children:[e.patients.first_name," ",e.patients.last_name]}),Object(d.jsx)("div",{className:"date-patient",children:e.patients.date_birth})]})},p=function(e){var t=e.setId,n=e.patients;return n.length?Object(d.jsx)("div",{children:n.map((function(e){return Object(d.jsx)(b,{setId:t,patients:e},e.id)}))}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{style:{textAlign:"center"},children:"Posts not found!"})})},O=n(7),h=n.n(O),f=n(2),x=n(26),v=n(24),m=n.n(v),y=["children"],g=function(e){var t=e.children,n=Object(x.a)(e,y);return Object(d.jsx)("button",Object(f.a)(Object(f.a)({},n),{},{className:m.a.MyBtn,children:t}))},_=n(25),C=n.n(_),M=c.a.forwardRef((function(e,t){return Object(d.jsx)("input",Object(f.a)({ref:t,className:C.a.MyInput},e))})),N=function(e){var t=e.filter,n=e.setFilter;return Object(d.jsx)(M,{value:t.query,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{query:e.target.value}))},placeholder:"Search"})},k=n(12),w=n.n(k),S=function(e){var t=e.children,n=e.visible,a=e.setVisible,c=[w.a.myModal];return n&&c.push(w.a.active),Object(d.jsx)("div",{className:c.join(" "),onClick:function(){return a(!1)},children:Object(d.jsx)("div",{className:w.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},P=function(e){var t=e.create,n=Object(a.useState)({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""}),c=Object(o.a)(n,2),r=c[0],s=c[1],i=function(){var e=Object(j.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h.a.post("http://127.0.0.1:8000/api-patients/patient-create/",r);case 3:a=e.sent,t(a.data),console.log(r),s({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{children:[Object(d.jsx)(M,{value:r.first_name,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{first_name:e.target.value}))},type:"text",placeholder:"First Name"}),Object(d.jsx)(M,{value:r.last_name,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{last_name:e.target.value}))},type:"text",placeholder:"Last Name"}),Object(d.jsx)(M,{value:r.date_birth,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{date_birth:e.target.value}))},type:"date",placeholder:"Date birth"}),Object(d.jsxs)("select",{value:r.sex,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{sex:e.target.value}))},children:[Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"})]}),Object(d.jsx)(M,{value:r.state,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{state:e.target.value}))},type:"text",placeholder:"State"}),Object(d.jsx)(M,{value:r.country,onChange:function(e){return s(Object(f.a)(Object(f.a)({},r),{},{country:e.target.value}))},type:"text",placeholder:"Country"}),Object(d.jsx)("div",{className:"position-btn",children:Object(d.jsx)(g,{onClick:i,children:"Add patient"})})]})})},F=function(e){var t=e.children;return Object(d.jsx)("div",{className:"panels",children:t})},L=function(e){var t=e.children;return Object(d.jsx)("div",{className:"left-panel",children:t})},E=function(e){var t=e.children;return Object(d.jsx)("div",{className:"right-panel",children:t})},I=function(e){var t=e.children;return Object(d.jsx)("header",{className:"header-right-panel",children:Object(d.jsx)("div",{className:"placing-btn",children:t})})},D=function(e){var t=e.post,n=e.setPost,a=e.setEdit,c=e.updRightPanel,r=e.deletePatient,s=function(){var e=Object(j.a)(l.a.mark((function e(r){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,h.a.put("http://127.0.0.1:8000/api-patients/patient-update/".concat(t.id,"/"),t);case 3:return e.sent,e.next=6,h.a.get("http://127.0.0.1:8000/api-patients/patient-list/");case 6:s=e.sent,c(s.data),a(!1),n({first_name:"",last_name:"",date_birth:"",sex:"",state:"",country:""});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)(I,{children:[Object(d.jsx)("span",{children:Object(d.jsx)(g,{onClick:s,children:"Save"})}),Object(d.jsx)("span",{children:Object(d.jsx)(g,{onClick:function(){return a(!1)},children:"Cancel"})}),Object(d.jsx)("span",{children:Object(d.jsx)(g,{onClick:r,children:"Delete"})})]}),Object(d.jsxs)("form",{children:[Object(d.jsx)(M,{value:t.first_name,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{first_name:e.target.value}))},type:"text",placeholder:"First Name"}),Object(d.jsx)(M,{value:t.last_name,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{last_name:e.target.value}))},type:"text",placeholder:"Last Name"}),Object(d.jsx)(M,{value:t.date_birth,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{date_birth:e.target.value}))},type:"date",placeholder:"Date birth"}),Object(d.jsxs)("select",{value:t.sex,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{sex:e.target.value}))},children:[Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"})]}),Object(d.jsx)(M,{value:t.state,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{state:e.target.value}))},type:"text",placeholder:"State"}),Object(d.jsx)(M,{value:t.country,onChange:function(e){return n(Object(f.a)(Object(f.a)({},t),{},{country:e.target.value}))},type:"text",placeholder:"Country"})]})]})},B=function(e){var t=e.id,n=e.edit,c=e.setEdit,r=e.deletePatient,s=e.updRightPanel,i=Object(a.useState)(!1),u=Object(o.a)(i,2),b=u[0],p=u[1],O=Object(a.useState)(""),f=Object(o.a)(O,2),x=f[0],v=f[1],m=Object(a.useCallback)(Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://127.0.0.1:8000/api-patients/patient-detail/".concat(t,"/"));case 2:n=e.sent,v(n.data);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(a.useEffect)((function(){m()}),[t,n,m]),n?Object(d.jsx)("div",{children:Object(d.jsx)(D,{post:x,setPost:v,setEdit:c,updRightPanel:s,save:b,setSave:p,deletePatient:r})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)(I,{children:[Object(d.jsx)("span",{children:Object(d.jsx)(g,{onClick:function(){return c(!0)},children:"Edit"})}),Object(d.jsx)("span",{children:Object(d.jsx)(g,{onClick:r,children:"Delete"})})]}),Object(d.jsxs)("div",{className:"info-patient",children:[Object(d.jsxs)("p",{children:["First Name: ",x.first_name]}),Object(d.jsxs)("p",{children:["Last Name: ",x.last_name]}),Object(d.jsxs)("p",{children:["Country: ",x.country]}),Object(d.jsxs)("p",{children:["State: ",x.state]}),Object(d.jsxs)("p",{children:["Date of birth: ",x.date_birth]})]})]})};var R=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(o.a)(r,2),u=s[0],b=s[1],O=Object(a.useState)({query:""}),f=Object(o.a)(O,2),x=f[0],v=f[1],m=Object(a.useState)(!1),y=Object(o.a)(m,2),_=y[0],C=y[1],M=function(e,t){var n=e;return Object(a.useMemo)((function(){return n.filter((function(e){return e.first_name.toLowerCase().includes(t.toLowerCase())||e.last_name.toLowerCase().includes(t.toLowerCase())}))}),[t,n])}(u,x.query),k=Object(a.useState)(""),w=Object(o.a)(k,2),I=w[0],D=w[1],R=Object(a.useState)(!1),q=Object(o.a)(R,2),A=q[0],V=q[1],H=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),u=i[0],d=i[1],b=function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[b,c,u]}(Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://127.0.0.1:8000/api-patients/patient-list/");case 2:return t=e.sent,b(t.data),e.next=6,h.a.get("http://127.0.0.1:8000/api-patients/patient-first/");case 6:n=e.sent,D(n.data.id),V(!1);case 9:case"end":return e.stop()}}),e)})))),J=Object(o.a)(H,3),G=J[0],T=J[1];J[2],Object(a.useEffect)((function(){G()}),[A]);var z=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("http://127.0.0.1:8000/api-patients/patient-delete/".concat(I,"/"));case 2:e.sent,V(!0),D(K.id),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://127.0.0.1:8000/api-patients/patient-first/");case 2:t=e.sent,D(t.data.id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(F,{children:[Object(d.jsxs)(L,{children:[Object(d.jsx)(N,{filter:x,setFilter:v}),Object(d.jsx)("div",{className:"position-btn",children:Object(d.jsx)(g,{onClick:function(){return C(!0)},children:"Create user"})}),Object(d.jsx)(S,{visible:_,setVisible:C,children:Object(d.jsx)(P,{create:function(e){b([].concat(Object(i.a)(u),[e])),C(!1)}})}),T?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsx)(p,{setId:function(e){D(e)},patients:M})]}),Object(d.jsx)(E,{children:I?Object(d.jsx)(B,{edit:n,id:I,setEdit:c,deletePatient:z,updRightPanel:function(e){b(Object(i.a)(e))}}):Object(d.jsx)("div",{children:"Loading..."})})]})})};s.a.render(Object(d.jsx)(R,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.d6a692d6.chunk.js.map